
# Introducción a la minería de datos - Proyecto 1

Se define esta función para poder limpiar la terminal de R (radian) utilizada en el entorno de trabajo.

```{r}
clc <- function() shell("cls")
```

## Librerías 

Carga de las librerías utilizadas para el proyecto.

```{r}
library(here)
library(foreign)
library(arules)
library(ggplot2)
```

## Carga del conjunto de datos 

Carga del archivo .sav en el que se encuentra los datos utilizando el paquete :`here` para poder emplear un *path* relativo a la carpeta del proyecto. 

```{r}
# Carga del conjunto de datos

data_path <- here("p1_data", "2023-Grad-Internet.sav")
graduados <- read.spss(data_path, to.data.frame = TRUE)

# Limpieza inicial del conjunto de datos
graduados$Corr_Año <- NULL
graduados$Cod_Muni <- NULL
graduados$Nivel <- NULL
graduados$Cod_Nivel <-NULL
graduados <- graduados[graduados$Cod_Jornada != "99",]
graduados$Cod_Jornada <- factor(graduados$Cod_Jornada)


```

## Exploración inicial 

```{r}
dim(graduados)
header <- t(head(graduados, n = 1))
View(header)
```

```{r}
data_apriori <- graduados[, c("Cod_Region",
                              "Cod_Jornada",
                              "Cod_Sector",
                              "CC_Familia_Automovil",
                              "Edad_RECO",
                              "Sexo_RECO",
                              "Cod_Area",
                              "Fm_Grado_Alcanzo_Papa_RECO",
                              "Fm_Grado_Alcanzo_Mama_RECO",
                              "Logro_Mate",
                              "Logro_Lect")]


data_apriori <- data_apriori[data_apriori$Logro_Mate == "Logro" |
                              data_apriori$Logro_Lect== "Logro",]

```


## Uso del algoritmo apriori

```{r}
reglas <- apriori(data_apriori,
                  parameter = list(support = 0.2, confidence = 0.5))

reglas <- as(reglas, "data.frame")
View(reglas)
```



